{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Priyanka\\\\Bharat_nft\\\\bharat_14Jun\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Priyanka\\\\Bharat_nft\\\\bharat_14Jun\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\Priyanka\\\\Bharat_nft\\\\bharat_14Jun\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Priyanka\\\\Bharat_nft\\\\bharat_14Jun\\\\src\\\\components\\\\Prod_detail.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport { Container, Row, Col, ListGroup, Form, Modal, Button } from 'react-bootstrap';\nimport featured from '../assets/img/featured.jpg';\nimport ProfileImg from '../assets/img/Profile.png';\nimport { FaEdit } from 'react-icons/fa';\nimport { FaRegCopy } from 'react-icons/fa';\nimport axios from 'axios';\nimport Web3 from \"web3\";\nimport { useSearchParams } from 'react-router-dom';\nimport { ImSpinner7 } from 'react-icons/im';\nimport { FaRegCheckCircle, FaArrowLeft } from 'react-icons/fa';\nimport { useNavigate, Link } from 'react-router-dom'; // import {BUY_CONTRACT_ADDERESS, BUY_ABI} from '../contract/buyOrder'\n\nimport { MINT_CONTACT_ADDRESS, MINT_Abi } from '../contract/mint';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport $ from 'jquery';\nimport Timer from './Timer'; // var BASE_URL = \"http://148.72.244.170:5001\"\n\nvar BASE_URL = process.env.REACT_APP_BASE_URL;\nconsole.log(\"API_URL\", BASE_URL);\nvar web3_Stake = new Web3(window.ethereum); // const BUYWITHCONTRACT = new web3_Stake.eth.Contract(BUY_ABI, BUY_CONTRACT_ADDERESS);\n\nvar BUYWITHCONTRACT = new web3_Stake.eth.Contract(MINT_Abi, MINT_CONTACT_ADDRESS); // console.log(\"BUYWITHCONTRACT\",BUYWITHCONTRACT)\n\nfunction Prod_detail() {\n  var _this = this;\n\n  var navigate = useNavigate();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      walletAddress = _useState2[0],\n      setwalletAddress = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      metaData = _useState4[0],\n      setmetaData = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      nftInfo = _useState6[0],\n      setNftInfo = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      buyButton = _useState8[0],\n      setShowBuyButton = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      resellButton = _useState10[0],\n      setShowResellButton = _useState10[1];\n\n  var _useSearchParams = useSearchParams(),\n      _useSearchParams2 = _slicedToArray(_useSearchParams, 2),\n      searchParams = _useSearchParams2[0],\n      setSearchParams = _useSearchParams2[1];\n\n  var id = searchParams.get(\"id\");\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      ownerAddress = _useState12[0],\n      setOwnerAddress = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      modalShow = _useState14[0],\n      setModalShow = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      nftOwnerAddress = _useState16[0],\n      setNftOwner = _useState16[1];\n\n  var _useState17 = useState(\"\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      newPrice = _useState18[0],\n      setNewPrice = _useState18[1];\n\n  var _useState19 = useState(\"\"),\n      _useState20 = _slicedToArray(_useState19, 2),\n      newName = _useState20[0],\n      setNewName = _useState20[1];\n\n  var _useState21 = useState(\"\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      newDescription = _useState22[0],\n      setNewDescription = _useState22[1];\n\n  var userDetail = JSON.parse(sessionStorage.getItem('user'));\n\n  var handleClose = function handleClose() {\n    setModalShow(false);\n    navigate(\"/\");\n  };\n\n  var _useState23 = useState(false),\n      _useState24 = _slicedToArray(_useState23, 2),\n      resellShow = _useState24[0],\n      setresellShow = _useState24[1];\n\n  var handleResellClose = function handleResellClose() {\n    return setresellShow(false);\n  };\n\n  var handleResellShow = function handleResellShow() {\n    return setresellShow(true);\n  }; //  ============================ Buy NFT =====================================\n\n\n  useEffect(function () {\n    $(\"#pricecheck\").hide();\n    $(\"#nameheck\").hide();\n    $(\"#desccheck\").hide();\n  });\n  $(\".validate\").focus(function () {\n    $(\"#pricecheck\").hide();\n    $(\"#nameheck\").hide();\n    $(\"#desccheck\").hide();\n  });\n\n  function resellNFT() {\n    return _resellNFT.apply(this, arguments);\n  }\n\n  function _resellNFT() {\n    _resellNFT = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var tokenPrice, tokens, bntokens;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              document.getElementById(\"overlay\").style.display = \"block\";\n\n              if (!newName) {\n                $(\"#nameheck\").show();\n              }\n\n              if (!newDescription) {\n                $(\"#desccheck\").show();\n              }\n\n              if (!newPrice) {\n                $(\"#pricecheck\").show();\n              } else {\n                tokenPrice = nftInfo.nft_price;\n                tokens = Web3.utils.toWei(tokenPrice.toString(), 'ether');\n                bntokens = Web3.utils.toBN(tokens);\n                BUYWITHCONTRACT.methods.resellNFT(nftInfo.token_id, bntokens, nftInfo.name, nftInfo.description).send({\n                  from: walletAddress,\n                  gas: 3000000\n                }).on('error', function (error) {\n                  console.log(\"error\", error); // setLoading(false)\n                }).then( /*#__PURE__*/function () {\n                  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(info) {\n                    var transaction_id, formData, resellNFT;\n                    return _regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            console.log('success ', info);\n                            transaction_id = info.transactionHash;\n                            formData = new FormData();\n                            formData.append(\"wallet_address\", walletAddress);\n                            formData.append(\"token_id\", nftInfo.token_id); // formData.append(\"new_price\", nftInfo.nft_price);\n\n                            formData.append(\"new_price\", newPrice);\n                            formData.append(\"nft_name\", newName);\n                            formData.append(\"nft_description\", newDescription);\n                            formData.append(\"transaction_id\", transaction_id);\n                            _context.next = 11;\n                            return axios.post(\"\".concat(BASE_URL, \"/resellNFT\"), formData);\n\n                          case 11:\n                            resellNFT = _context.sent;\n\n                            if (resellNFT.status == 200) {\n                              console.log(\"Yes\");\n                              toast.success('You resell nft successfully !', {\n                                position: \"top-center\",\n                                theme: \"colored\",\n                                autoClose: 5000,\n                                hideProgressBar: false,\n                                closeOnClick: true,\n                                pauseOnHover: true,\n                                draggable: true,\n                                progress: undefined\n                              });\n                              document.getElementById(\"overlay\").style.display = \"none\";\n                              setTimeout(function () {\n                                setresellShow(false);\n                                window.location.reload(); // navigate(`/prod_detail?id=${nftInfo.id}`)\n                              }, 5000);\n                            }\n\n                          case 13:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n\n                  return function (_x2) {\n                    return _ref.apply(this, arguments);\n                  };\n                }());\n              }\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _resellNFT.apply(this, arguments);\n  }\n\n  function buyNFT() {\n    return _buyNFT.apply(this, arguments);\n  }\n\n  function _buyNFT() {\n    _buyNFT = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var tokenOwner, tokenPrice, tokens, bntokens;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              document.getElementById(\"overlay\").style.display = \"block\"; // console.log(\"ownerAddress\",ownerAddress)\n              // setLoading(true)\n\n              tokenOwner = nftInfo.wallet_address;\n              tokenPrice = nftInfo.nft_price;\n              console.log(\"nftInfo.price\", tokenPrice);\n              console.log(\"nftInfo.price.toString()\", tokenPrice.toString());\n              tokens = Web3.utils.toWei(tokenPrice.toString(), 'ether');\n              bntokens = Web3.utils.toBN(tokens); // var transaction_id = \"fdsfsdfsd\"\n\n              BUYWITHCONTRACT.methods.BuyNFT(tokenOwner, nftInfo.token_id, bntokens).send({\n                from: walletAddress,\n                gas: 3000000,\n                value: bntokens\n              }).on('error', function (error) {\n                console.log(\"error\", error); // setLoading(false)\n              }).then( /*#__PURE__*/function () {\n                var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(info) {\n                  var transaction_id, formData, buyMint;\n                  return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          transaction_id = info.transactionHash;\n                          formData = new FormData();\n                          formData.append(\"wallet_address\", walletAddress);\n                          formData.append(\"token_id\", nftInfo.token_id);\n                          formData.append(\"price\", nftInfo.nft_price);\n                          formData.append(\"transaction_id\", transaction_id);\n                          _context3.next = 8;\n                          return axios.post(\"\".concat(BASE_URL, \"/buyNFT\"), formData);\n\n                        case 8:\n                          buyMint = _context3.sent;\n\n                          if (buyMint.status == 200) {\n                            toast.success('You buy nft successfully !', {\n                              position: \"top-center\",\n                              theme: \"colored\",\n                              autoClose: 5000,\n                              hideProgressBar: false,\n                              closeOnClick: true,\n                              pauseOnHover: true,\n                              draggable: true,\n                              progress: undefined\n                            });\n                            document.getElementById(\"overlay\").style.display = \"none\";\n                            setTimeout(function () {\n                              // navigate(`/prod_detail?id=${nftInfo.id}`)\n                              window.location.reload();\n                            }, 5000);\n                          } // var result = await axios.post(`${BASE_URL}/nft/buyNft`, { _id: nftInfo._id })\n                          // document.getElementById(\"overlay\").style.display = \"none\";\n                          // setModalShow(true)\n                          // console.log(\"result\", result)\n                          // setShowBuyButton(false)\n\n\n                        case 10:\n                        case \"end\":\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3);\n                }));\n\n                return function (_x3) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n\n            case 8:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    return _buyNFT.apply(this, arguments);\n  }\n\n  function detail(_x) {\n    return _detail.apply(this, arguments);\n  }\n\n  function _detail() {\n    _detail = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(walletAddress) {\n      var checkAddress, nft_info_data, orderCreator, mintType, buyResellStatus;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              // window.ethereumNode = new Web3('https://rinkeby.infura.io/v3/c2a257d284ca4a799384c59c70d4bd9e')\n              // console.log(\"window.ethereumNode \", window.ethereumNode)\n              // var nft_info_data = await axios.get(`http://148.72.244.170:5001/nft/getNFTbyId/?id=${id}`)\n              checkAddress = sessionStorage.getItem('loginUserAdd');\n              _context5.next = 3;\n              return axios.get(BASE_URL + '/getMintNFTDeatils?id=' + id + '&address=' + checkAddress);\n\n            case 3:\n              nft_info_data = _context5.sent;\n              // console.log(\"nft_info_data\", nft_info_data)\n              // console.log(\"orderCreator\", nft_info_data.data.result.wallet_address)\n              setmetaData(nft_info_data.data);\n              setNftInfo(nft_info_data.data.result);\n              setNewName(nft_info_data.data.result.name);\n              setNewDescription(nft_info_data.data.result.description); // var orderCreator = nft_info_data.data.id.slice(-walletAddress.length)\n\n              orderCreator = nft_info_data.data.result.wallet_address;\n              mintType = nft_info_data.data.result.mint_type;\n              buyResellStatus = nft_info_data.data.result.buyResellStatus;\n              setNftOwner(orderCreator);\n\n              if (mintType == 1) {\n                if (userDetail.address == '' || userDetail.address === \"null\" || userDetail.address == null) {\n                  setShowBuyButton(true);\n                  setShowResellButton(false);\n                } else {\n                  if (buyResellStatus == 0) {\n                    if (ownerAddress === userDetail.address) {\n                      setShowBuyButton(false);\n                      setShowResellButton(false);\n                    } else {\n                      setShowBuyButton(true);\n                      setShowResellButton(false);\n                    }\n                  } else if (buyResellStatus == 1) {\n                    setShowBuyButton(false);\n                    setShowResellButton(true);\n                  } else if (buyResellStatus == 2) {\n                    setShowBuyButton(false);\n                    setShowResellButton(false);\n                  }\n                }\n              } else {\n                setShowBuyButton(false);\n                setShowResellButton(false);\n              }\n\n            case 13:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n    return _detail.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    var loginUserAdd = sessionStorage.getItem(\"loginUserAdd\");\n\n    if (loginUserAdd) {\n      setwalletAddress(loginUserAdd);\n      detail(loginUserAdd);\n    }\n\n    detail();\n  }, []);\n  console.log(\"loginUserAdd111111111111111111111\", walletAddress);\n  console.log(\"userDetail22222222222222222222222\", userDetail);\n  console.log(\"userDetail33333333333333333333333\", nftOwnerAddress);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader_spiner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ImSpinner7, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    style: {\n      padding: \"150px 0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    className: \"mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"GoBack_btn fw-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FaArrowLeft, {\n    className: \"back-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 73\n    }\n  }), \"  Go Back\"))), /*#__PURE__*/React.createElement(Row, {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"prod-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: nftInfo.image,\n    alt: \"featured\",\n    className: \"img-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"d-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 37\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 37\n    }\n  }, nftInfo.price)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"owner-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: nftInfo.userProfile,\n    alt: \"profile\",\n    className: \"img-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 37\n    }\n  }, \"Owned By\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 37\n    }\n  }, nftOwnerAddress.slice(0, 6)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"border p-2 mt-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buy_div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 33\n    }\n  }, //0 = new()\n  function () {\n    if (userDetail.address === nftOwnerAddress) {\n      if (nftInfo.buyResellStatus == 1) {\n        return resellButton ? /*#__PURE__*/React.createElement(\"button\", {\n          className: \"resell_btn\",\n          onClick: handleResellShow,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 61\n          }\n        }, \"Resell\") : /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 61\n          }\n        }, \"Ownered\");\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 60\n          }\n        }, \"Ownered\");\n      }\n    } else {\n      if (nftInfo.mint_type == 1) {\n        if (nftInfo.buyResellStatus == 0) {\n          return buyButton ? /*#__PURE__*/React.createElement(\"button\", {\n            className: \"buy_btn\",\n            onClick: buyNFT,\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 65\n            }\n          }, \"Buy\") : /*#__PURE__*/React.createElement(\"div\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 65\n            }\n          }, \"Ownered\");\n        } else if (nftInfo.buyResellStatus == 1) {\n          return resellButton ? /*#__PURE__*/React.createElement(\"button\", {\n            className: \"resell_btn\",\n            onClick: handleResellShow,\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 69\n            }\n          }, \"Resell\") : /*#__PURE__*/React.createElement(\"div\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 69\n            }\n          }, \"Ownered\");\n        } else if (nftInfo.buyResellStatus == 2) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 65\n            }\n          }, \"Ownered\");\n        }\n      } else {\n        return /*#__PURE__*/React.createElement(\"h6\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 65\n          }\n        }, \"Accept highest offer\");\n      }\n    }\n  }())), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"countdown_bid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bid_btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 33\n    }\n  }, \"Bid\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"countdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Timer, {\n    currentTime: '06-14-2022  12:50 pm',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 36\n    }\n  })))), /*#__PURE__*/React.createElement(Col, {\n    sm: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    style: {\n      border: \"1px solid #e0e0e0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    className: \"d-flex justify-content-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 59\n    }\n  }, \"Title\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 37\n    }\n  }, nftInfo.name)), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    className: \"d-flex justify-content-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 59\n    }\n  }, \"Description\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 37\n    }\n  }, nftInfo.description)), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    className: \"d-flex justify-content-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 59\n    }\n  }, \"Chain\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 37\n    }\n  }, nftInfo.chain_name)), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    className: \"d-flex justify-content-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 59\n    }\n  }, \"Contract Address\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"address_link w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: nftInfo.contract_address,\n    target: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 72\n    }\n  }, nftInfo.contract_address))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    className: \"d-flex justify-content-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 59\n    }\n  }, \"Token ID\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 37\n    }\n  }, nftInfo.token_id))), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"mx-3 my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 29\n    }\n  }, \"Item Details\"), /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    style: {\n      border: \"1px solid #e0e0e0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    className: \"d-flex justify-content-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 59\n    }\n  }, \"Category:\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    style: {\n      textTransform: \"capitalize\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 37\n    }\n  }, nftInfo.category)), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    className: \"d-flex justify-content-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 59\n    }\n  }, \"Royalty:\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 37\n    }\n  }, nftInfo.royalty, \"%\")))))), /*#__PURE__*/React.createElement(ToastContainer, {\n    position: \"bottom-right\",\n    autoClose: 5000,\n    hideProgressBar: false,\n    newestOnTop: false,\n    closeOnClick: true,\n    rtl: false,\n    pauseOnFocusLoss: true,\n    draggable: true,\n    pauseOnHover: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Modal, {\n    show: modalShow,\n    onHide: handleClose,\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"success_modal_div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"success_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(FaRegCheckCircle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 67\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 37\n    }\n  }, \"NFT Buy Successfully !\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"success_btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-secondary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 41\n    }\n  }, \"Cancel\")))))))), /*#__PURE__*/React.createElement(Modal, {\n    show: resellShow,\n    onHide: handleResellClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 21\n    }\n  }, \"Resell\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-section resell_modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 29\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Name\",\n    value: newName,\n    onChange: function onChange(e) {\n      return setNewName(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"required-text\",\n    id: \"nameheck\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 29\n    }\n  }, \"Please Enter New Name \")), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 29\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"textarea\",\n    placeholder: \"Description\",\n    style: {\n      height: '100px'\n    },\n    value: newDescription,\n    onChange: function onChange(e) {\n      return setNewDescription(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"required-text\",\n    id: \"desccheck\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 33\n    }\n  }, \"Please Enter New Description \")), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mt-4 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 29\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Photography\",\n    readOnly: true,\n    style: {\n      textTransform: \"capitalize\"\n    },\n    value: nftInfo.category,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mt-4 mb-3 new_price_field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 29\n    }\n  }, \"New Price\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    min: \"0\",\n    placeholder: \"Price\",\n    onChange: function onChange(e) {\n      return setNewPrice(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"required-text\",\n    id: \"pricecheck\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 29\n    }\n  }, \"Please Enter Price \")), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mt-4 mb-3 d-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 29\n    }\n  }, \"Token ID\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Token Id\",\n    readOnly: true,\n    value: nftInfo.token_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"resell_btn\",\n    onClick: resellNFT,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 520,\n      columnNumber: 21\n    }\n  }, \"Resell\"))));\n}\n\nexport default Prod_detail;","map":{"version":3,"sources":["D:/Priyanka/Bharat_nft/bharat_14Jun/src/components/Prod_detail.jsx"],"names":["React","useState","useEffect","Header","Footer","Container","Row","Col","ListGroup","Form","Modal","Button","featured","ProfileImg","FaEdit","FaRegCopy","axios","Web3","useSearchParams","ImSpinner7","FaRegCheckCircle","FaArrowLeft","useNavigate","Link","MINT_CONTACT_ADDRESS","MINT_Abi","ToastContainer","toast","$","Timer","BASE_URL","process","env","REACT_APP_BASE_URL","console","log","web3_Stake","window","ethereum","BUYWITHCONTRACT","eth","Contract","Prod_detail","navigate","walletAddress","setwalletAddress","metaData","setmetaData","nftInfo","setNftInfo","buyButton","setShowBuyButton","resellButton","setShowResellButton","searchParams","setSearchParams","id","get","ownerAddress","setOwnerAddress","modalShow","setModalShow","nftOwnerAddress","setNftOwner","newPrice","setNewPrice","newName","setNewName","newDescription","setNewDescription","userDetail","JSON","parse","sessionStorage","getItem","handleClose","resellShow","setresellShow","handleResellClose","handleResellShow","hide","focus","resellNFT","document","getElementById","style","display","show","tokenPrice","nft_price","tokens","utils","toWei","toString","bntokens","toBN","methods","token_id","name","description","send","from","gas","on","error","then","info","transaction_id","transactionHash","formData","FormData","append","post","status","success","position","theme","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","setTimeout","location","reload","buyNFT","tokenOwner","wallet_address","BuyNFT","value","buyMint","detail","checkAddress","nft_info_data","data","result","orderCreator","mintType","mint_type","buyResellStatus","address","loginUserAdd","padding","image","price","userProfile","slice","border","chain_name","contract_address","textTransform","category","royalty","e","target","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Header from '../components/Header'\r\nimport Footer from '../components/Footer'\r\nimport { Container, Row, Col, ListGroup, Form, Modal, Button } from 'react-bootstrap'\r\nimport featured from '../assets/img/featured.jpg'\r\nimport ProfileImg from '../assets/img/Profile.png'\r\nimport { FaEdit } from 'react-icons/fa'\r\nimport { FaRegCopy } from 'react-icons/fa'\r\nimport axios from 'axios';\r\nimport Web3 from \"web3\";\r\nimport { useSearchParams } from 'react-router-dom'\r\nimport { ImSpinner7 } from 'react-icons/im'\r\nimport { FaRegCheckCircle ,FaArrowLeft} from 'react-icons/fa'\r\nimport { useNavigate,Link } from 'react-router-dom'\r\n\r\n// import {BUY_CONTRACT_ADDERESS, BUY_ABI} from '../contract/buyOrder'\r\nimport { MINT_CONTACT_ADDRESS, MINT_Abi } from '../contract/mint';\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport $ from 'jquery';\r\nimport Timer from './Timer';\r\n\r\n// var BASE_URL = \"http://148.72.244.170:5001\"\r\nconst BASE_URL = process.env.REACT_APP_BASE_URL\r\nconsole.log(\"API_URL\", BASE_URL)\r\n\r\nconst web3_Stake = new Web3(window.ethereum);\r\n\r\n// const BUYWITHCONTRACT = new web3_Stake.eth.Contract(BUY_ABI, BUY_CONTRACT_ADDERESS);\r\nconst BUYWITHCONTRACT = new web3_Stake.eth.Contract(MINT_Abi, MINT_CONTACT_ADDRESS);\r\n// console.log(\"BUYWITHCONTRACT\",BUYWITHCONTRACT)\r\n\r\nfunction Prod_detail() {\r\n    const navigate = useNavigate()\r\n    const [walletAddress, setwalletAddress] = useState(\"\");\r\n    const [metaData, setmetaData] = useState(\"\");\r\n    const [nftInfo, setNftInfo] = useState(\"\");\r\n    const [buyButton, setShowBuyButton] = useState(false);\r\n    const [resellButton, setShowResellButton] = useState(false);\r\n    const [searchParams, setSearchParams] = useSearchParams();\r\n    const id = searchParams.get(\"id\")\r\n    const [ownerAddress, setOwnerAddress] = useState()\r\n    const [modalShow, setModalShow] = useState(false);\r\n    const [nftOwnerAddress, setNftOwner] = useState(\"\");\r\n    const[newPrice,setNewPrice] = useState(\"\");\r\n    const[newName,setNewName] = useState(\"\");\r\n    const[newDescription,setNewDescription] = useState(\"\");\r\n\r\n\r\n    const userDetail = JSON.parse(sessionStorage.getItem('user'))\r\n    \r\n\r\n    const handleClose = () => {\r\n        setModalShow(false)\r\n        navigate(\"/\")\r\n    }\r\n    const [resellShow, setresellShow] = useState(false);\r\n    const handleResellClose = () => setresellShow(false);\r\n    const handleResellShow = () => setresellShow(true);\r\n    \r\n    //  ============================ Buy NFT =====================================\r\n\r\n    useEffect(() => {\r\n        $(\"#pricecheck\").hide();\r\n        $(\"#nameheck\").hide();\r\n        $(\"#desccheck\").hide();\r\n    })\r\n\r\n    $(\".validate\").focus(function () {\r\n        $(\"#pricecheck\").hide();\r\n        $(\"#nameheck\").hide();\r\n        $(\"#desccheck\").hide();\r\n\r\n    })\r\n  \r\n    async function resellNFT(){\r\n        document.getElementById(\"overlay\").style.display = \"block\";\r\n\r\n        if (!newName ) {\r\n            $(\"#nameheck\").show();\r\n        }\r\n\r\n        if (!newDescription ) {\r\n            $(\"#desccheck\").show();\r\n        }\r\n\r\n        if (!newPrice ) {\r\n            $(\"#pricecheck\").show();\r\n        }else{\r\n\r\n            var tokenPrice  =   nftInfo.nft_price;\r\n            var tokens = Web3.utils.toWei(tokenPrice.toString(),'ether')\r\n            var bntokens = Web3.utils.toBN(tokens)\r\n\r\n\r\n            BUYWITHCONTRACT.methods.resellNFT(nftInfo.token_id, bntokens,nftInfo.name,nftInfo.description)\r\n                .send({\r\n                    from: walletAddress,\r\n                    gas: 3000000,\r\n                }).on('error', function (error) {\r\n                    console.log(\"error\", error)\r\n                    // setLoading(false)\r\n\r\n                }).then(async function (info) {\r\n                    console.log('success ', info);\r\n\r\n                    var transaction_id = info.transactionHash\r\n\r\n                    const formData = new FormData();\r\n                    formData.append(\"wallet_address\", walletAddress);\r\n                    formData.append(\"token_id\", nftInfo.token_id);\r\n                    // formData.append(\"new_price\", nftInfo.nft_price);\r\n                    formData.append(\"new_price\", newPrice);\r\n                    formData.append(\"nft_name\", newName);\r\n                    formData.append(\"nft_description\", newDescription);\r\n                    formData.append(\"transaction_id\", transaction_id);\r\n\r\n                    var resellNFT = await axios.post(`${BASE_URL}/resellNFT`, formData)\r\n                    \r\n\r\n                    if(resellNFT.status == 200){\r\n                        console.log(\"Yes\");\r\n                        toast.success('You resell nft successfully !', {\r\n                            position: \"top-center\",\r\n                            theme: \"colored\",\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true,\r\n                            progress: undefined,\r\n                        });\r\n                        document.getElementById(\"overlay\").style.display = \"none\";\r\n                        setTimeout(() => {\r\n                            setresellShow(false)\r\n                            window.location.reload()\r\n                            // navigate(`/prod_detail?id=${nftInfo.id}`)\r\n                        }, 5000)\r\n                    }\r\n                })\r\n        }\r\n\r\n    }\r\n\r\n    async function buyNFT() {\r\n        document.getElementById(\"overlay\").style.display = \"block\";\r\n        // console.log(\"ownerAddress\",ownerAddress)\r\n        // setLoading(true)\r\n\r\n        var tokenOwner = nftInfo.wallet_address;\r\n        var tokenPrice = nftInfo.nft_price;\r\n        console.log(\"nftInfo.price\",tokenPrice)\r\n        console.log(\"nftInfo.price.toString()\",tokenPrice.toString())\r\n\r\n        var tokens = Web3.utils.toWei(tokenPrice.toString(),'ether')\r\n        var bntokens = Web3.utils.toBN(tokens)\r\n        // var transaction_id = \"fdsfsdfsd\"\r\n\r\n    \r\n        BUYWITHCONTRACT.methods.BuyNFT(tokenOwner, nftInfo.token_id, bntokens)\r\n            .send({\r\n                from: walletAddress,\r\n                gas: 3000000,\r\n                value: bntokens\r\n            }).on('error', function (error) {\r\n                console.log(\"error\", error)\r\n                // setLoading(false)\r\n\r\n            }).then(async function (info) {\r\n               \r\n\r\n                var transaction_id = info.transactionHash\r\n\r\n                const formData = new FormData();\r\n                formData.append(\"wallet_address\", walletAddress);\r\n                formData.append(\"token_id\", nftInfo.token_id);\r\n                formData.append(\"price\", nftInfo.nft_price);\r\n                formData.append(\"transaction_id\", transaction_id);\r\n        \r\n                var buyMint = await axios.post(`${BASE_URL}/buyNFT`, formData)\r\n             \r\n\r\n                if(buyMint.status == 200){\r\n                    toast.success('You buy nft successfully !', {\r\n                        position: \"top-center\",\r\n                        theme: \"colored\",\r\n                        autoClose: 5000,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true,\r\n                        progress: undefined,\r\n                    });\r\n                    document.getElementById(\"overlay\").style.display = \"none\";\r\n                    setTimeout(() => {\r\n                        // navigate(`/prod_detail?id=${nftInfo.id}`)\r\n                        window.location.reload()\r\n                    }, 5000)\r\n                }\r\n                // var result = await axios.post(`${BASE_URL}/nft/buyNft`, { _id: nftInfo._id })\r\n                // document.getElementById(\"overlay\").style.display = \"none\";\r\n                // setModalShow(true)\r\n                // console.log(\"result\", result)\r\n                // setShowBuyButton(false)\r\n            })\r\n    }\r\n\r\n    async function detail(walletAddress) {\r\n        // window.ethereumNode = new Web3('https://rinkeby.infura.io/v3/c2a257d284ca4a799384c59c70d4bd9e')\r\n        // console.log(\"window.ethereumNode \", window.ethereumNode)\r\n        // var nft_info_data = await axios.get(`http://148.72.244.170:5001/nft/getNFTbyId/?id=${id}`)\r\n\r\n        let checkAddress = sessionStorage.getItem('loginUserAdd')\r\n        \r\n\r\n        var nft_info_data = await axios.get(BASE_URL + '/getMintNFTDeatils?id=' + id+'&address='+checkAddress)\r\n\r\n        // console.log(\"nft_info_data\", nft_info_data)\r\n        // console.log(\"orderCreator\", nft_info_data.data.result.wallet_address)\r\n\r\n        setmetaData(nft_info_data.data)\r\n        setNftInfo(nft_info_data.data.result)\r\n        setNewName(nft_info_data.data.result.name)\r\n        setNewDescription(nft_info_data.data.result.description)\r\n        // var orderCreator = nft_info_data.data.id.slice(-walletAddress.length)\r\n        var orderCreator = nft_info_data.data.result.wallet_address\r\n        var mintType = nft_info_data.data.result.mint_type\r\n        var buyResellStatus = nft_info_data.data.result.buyResellStatus\r\n        setNftOwner(orderCreator);\r\n       \r\n        if(mintType == 1){\r\n            \r\n            if(userDetail.address == '' || userDetail.address === \"null\" || userDetail.address == null){\r\n                \r\n                setShowBuyButton(true)\r\n                setShowResellButton(false)\r\n            }else{\r\n                if(buyResellStatus == 0){\r\n                 \r\n                    if (ownerAddress === userDetail.address) {\r\n                        \r\n                        setShowBuyButton(false)\r\n                        setShowResellButton(false)\r\n                    }else{\r\n                        setShowBuyButton(true)\r\n                        setShowResellButton(false)\r\n                    }\r\n                }else if(buyResellStatus == 1){\r\n                    \r\n                    setShowBuyButton(false)\r\n                    setShowResellButton(true)\r\n                }else if(buyResellStatus == 2){\r\n                   \r\n                    setShowBuyButton(false)\r\n                    setShowResellButton(false)\r\n                }\r\n            }\r\n        }else{\r\n            \r\n            setShowBuyButton(false)\r\n            setShowResellButton(false)\r\n        }\r\n        \r\n\r\n\r\n    }\r\n    \r\n\r\n    useEffect(() => {\r\n        var loginUserAdd = sessionStorage.getItem(\"loginUserAdd\");\r\n        \r\n        if (loginUserAdd) {\r\n            setwalletAddress(loginUserAdd)\r\n            detail(loginUserAdd)\r\n        }\r\n        detail()\r\n\r\n    }, [])\r\n\r\n    console.log(\"loginUserAdd111111111111111111111\", walletAddress)\r\n    console.log(\"userDetail22222222222222222222222\",userDetail)\r\n    console.log(\"userDetail33333333333333333333333\",nftOwnerAddress)\r\n    return (\r\n        <div>\r\n            <div id=\"overlay\" >\r\n                <div className='loader_spiner'>\r\n                    <ImSpinner7 />\r\n                </div>\r\n            </div>\r\n            <Header />\r\n\r\n            <section style={{ padding: \"150px 0px\" }}>\r\n                <Container className='mt-2'>\r\n\r\n                    <Row>\r\n                        <Col lg={12}>\r\n                            <Link to='/' className='GoBack_btn fw-bold'><FaArrowLeft className='back-icon' />  Go Back</Link>\r\n                           \r\n                        </Col>\r\n                    </Row>\r\n                    <Row className='mt-3'>\r\n                        <Col sm={4}>\r\n                            <div className='prod-img'>\r\n                                <img src={nftInfo.image} alt=\"featured\" className='img-fluid' />\r\n                            </div>\r\n\r\n                            <div className='d-flex justify-content-between mt-4'>\r\n                                <div>\r\n                                    <h6 className='d-block'>Price</h6>\r\n                                    <span>{nftInfo.price}</span>\r\n                                </div>\r\n\r\n                                <div className='owner-img'>\r\n                                    <img src={nftInfo.userProfile} alt=\"profile\" className='img-fluid' />\r\n\r\n                                    <h6>Owned By</h6>\r\n                                    {/* <span>{nftInfo.wallet_address}</span> */}\r\n                                    <span>{nftOwnerAddress.slice(0, 6)}</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className='border p-2 mt-4 '>\r\n                                <div className='buy_div'>\r\n                              \r\n                                    {/* <div>\r\n                                        <button className='buy_btn me-3' onClick={buyNFT}>Buy</button>\r\n                                        <button className='resell_btn' onClick={handleResellShow}>Resell</button>\r\n                                    </div> */}\r\n                                    {\r\n                                        //0 = new()\r\n                                        (()=>{\r\n                                          \r\n                                            if(userDetail.address === nftOwnerAddress){\r\n                                                if(nftInfo.buyResellStatus == 1){\r\n                                                          \r\n                                                    return (resellButton ?\r\n                                                            <button className='resell_btn' onClick={handleResellShow}>Resell</button>\r\n                                                            :\r\n                                                            <div>Ownered</div>\r\n                                                )\r\n                                                }else{\r\n                                                    return(<div>Ownered</div>)\r\n                                                }\r\n                                                \r\n                                                }else{\r\n                                                    if(nftInfo.mint_type == 1){\r\n                                                        if(nftInfo.buyResellStatus == 0){\r\n                                                           \r\n                                                            return    (buyButton ?\r\n                                                                <button className='buy_btn' onClick={buyNFT}>Buy</button>\r\n                                                                :\r\n                                                                <div>Ownered</div>\r\n                                                            )\r\n                                                        }\r\n                                                        else if(nftInfo.buyResellStatus == 1){\r\n                                                          \r\n                                                            return (resellButton ?\r\n                                                                    <button className='resell_btn' onClick={handleResellShow}>Resell</button>\r\n                                                                    :\r\n                                                                    <div>Ownered</div>\r\n                                                        )\r\n                                                        }\r\n                                                        else if(nftInfo.buyResellStatus == 2){\r\n                                                           \r\n                                                            return (\r\n                                                                <div>Ownered</div>\r\n                                                            )\r\n                                                        }\r\n                                                    }else{\r\n                                                        return (<h6>Accept highest offer</h6>)\r\n                                                    }\r\n                                                }\r\n                                      \r\n                                        })()\r\n                                    }\r\n\r\n                                 \r\n\r\n                                    {/*<h6>Accept highest offer</h6> */}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"countdown_bid\">\r\n                                <button className='bid_btn'>Bid</button>\r\n                                <div className=\"countdown\">\r\n                                   <Timer currentTime={'06-14-2022  12:50 pm'} />\r\n                                </div>\r\n                            </div>\r\n\r\n                        </Col>\r\n                        <Col sm={8}>\r\n                            <ListGroup variant=\"flush\" style={{ border: \"1px solid #e0e0e0\" }}>\r\n                                <ListGroup.Item className='d-flex justify-content-start'>\r\n                                    <div className='w-50'><h6>Title</h6></div>\r\n                                    <div  className='w-50'>{nftInfo.name}</div>\r\n                                </ListGroup.Item>\r\n\r\n                                <ListGroup.Item className='d-flex justify-content-start'>\r\n                                    <div className='w-50'><h6>Description</h6></div>\r\n                                    <div  className='w-50'>{nftInfo.description}</div>\r\n                                </ListGroup.Item>\r\n\r\n                                <ListGroup.Item className='d-flex justify-content-start'>\r\n                                    <div className='w-50'><h6>Chain</h6></div>\r\n                                    <div  className='w-50'>{nftInfo.chain_name}</div>\r\n                                </ListGroup.Item>\r\n\r\n                                <ListGroup.Item className='d-flex justify-content-start'>\r\n                                    <div className='w-50'><h6>Contract Address</h6></div>\r\n                                    <div className='address_link w-50'><a href={nftInfo.contract_address} target=\"_blank\">{nftInfo.contract_address}</a></div>\r\n                                </ListGroup.Item>\r\n\r\n                                <ListGroup.Item className='d-flex justify-content-start'>\r\n                                    <div className='w-50'><h6>Token ID</h6></div>\r\n                                    <div  className='w-50'>{nftInfo.token_id}</div>\r\n                                </ListGroup.Item>\r\n                            </ListGroup>\r\n\r\n\r\n\r\n                            <h5 className='mx-3 my-3'>Item Details</h5>\r\n\r\n\r\n\r\n                            <ListGroup variant=\"flush\" style={{ border: \"1px solid #e0e0e0\" }}>\r\n                                <ListGroup.Item className='d-flex justify-content-start'>\r\n                                    <div className='w-50'><h6>Category:</h6></div>\r\n                                    <div  className='w-50' style={{ textTransform: \"capitalize\" }}>{nftInfo.category}</div>\r\n                                </ListGroup.Item>\r\n\r\n                                <ListGroup.Item className='d-flex justify-content-start'>\r\n                                    <div className='w-50'><h6>Royalty:</h6></div>\r\n                                    <div  className='w-50'>{nftInfo.royalty}%</div>\r\n                                </ListGroup.Item>\r\n                            </ListGroup>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                </Container>\r\n\r\n                <ToastContainer\r\n                    position=\"bottom-right\"\r\n                    autoClose={5000}\r\n                    hideProgressBar={false}\r\n                    newestOnTop={false}\r\n                    closeOnClick\r\n                    rtl={false}\r\n                    pauseOnFocusLoss\r\n                    draggable\r\n                    pauseOnHover\r\n                />\r\n\r\n            </section>\r\n\r\n            <Footer />\r\n\r\n            {/*successfull modal start */}\r\n            <Modal show={modalShow} onHide={handleClose} centered>\r\n                <Modal.Body>\r\n                    <Container>\r\n                        <Row>\r\n                            <Col lg={12}>\r\n                                <div className='success_modal_div'>\r\n                                    <div className='success_icon'><FaRegCheckCircle /></div>\r\n                                    <div className='head'>NFT Buy Successfully !</div>\r\n                                    <div className='success_btn'>\r\n                                        <button className='btn btn-secondary' onClick={handleClose}>\r\n                                            Cancel\r\n                                        </button></div>\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n                    </Container>\r\n                </Modal.Body>\r\n            </Modal>\r\n            {/*successfull modal end */}\r\n\r\n         \r\n\r\n            {/*resell nft modal start */}\r\n            <Modal show={resellShow} onHide={handleResellClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Resell</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <div className='form-section resell_modal'>\r\n                        <Form.Group className=\"mb-3\">\r\n                            <Form.Label>Name</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Name\" value={newName} onChange={(e) => setNewName(e.target.value)}/>\r\n                            <p className='required-text' id=\"nameheck\">Please Enter New Name </p>\r\n                        </Form.Group>\r\n                        \r\n                        <Form.Group className=\"mb-3\">\r\n                            <Form.Label>Description</Form.Label>\r\n                            <Form.Control\r\n                                as=\"textarea\"\r\n                                placeholder=\"Description\"\r\n                                style={{ height: '100px' }}  value={newDescription} onChange={(e) => setNewDescription(e.target.value)}/>\r\n                                <p className='required-text' id=\"desccheck\">Please Enter New Description </p>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group className=\"mt-4 mb-3\">\r\n                            <Form.Label>Category</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Photography\" readOnly={true} style={{ textTransform: \"capitalize\" }} value={nftInfo.category}/>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group className=\"mt-4 mb-3 new_price_field\">\r\n                            <Form.Label>New Price</Form.Label>\r\n                            <Form.Control type=\"number\" min=\"0\" placeholder=\"Price\"  onChange={(e) => setNewPrice(e.target.value)}/>\r\n                            <p className='required-text' id=\"pricecheck\">Please Enter Price </p>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group className=\"mt-4 mb-3 d-none\">\r\n                            <Form.Label>Token ID</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Token Id\" readOnly={true}  value={nftInfo.token_id}/>\r\n                        </Form.Group>\r\n                    </div>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <button className='resell_btn' onClick={resellNFT}>\r\n                       Resell\r\n                    </button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n            {/* resell nft modal end */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Prod_detail"]},"metadata":{},"sourceType":"module"}